import{d as k,L as b,M as B,N as a,t as l,v as c,O as w,x as p,r as f,P as x,Q as _,R as V,y as L,z as v,S,_ as T,T as A,i as F,U as I,V as R,W as U,X as y}from"./jRP3NwEl.js";import{u as M}from"./B5ypAP4G.js";const Z=k({__name:"EditContent",props:{taskContent:{}},setup(C){const e=C.taskContent,n={mounted:t=>t.focus()};return(t,r)=>b((l(),c("input",{type:"text",class:"grow outline-none border-b-secondary border-b-2","onUpdate:modelValue":r[0]||(r[0]=u=>w(e)?e.value=u:null),maxlength:"50"},null,512)),[[n],[B,a(e)]])}}),N={class:"flex gap-4"},j=k({__name:"EditValidationButtons",emits:["set-edit-mode","update-task"],setup(C,{emit:o}){const e=o;return(n,t)=>(l(),c("div",N,[p("button",{class:"bg-primary hover:bg-secondary menu-button min-w-fit px-4","aria-roledescription":"Save changes",title:"Save changes",onClick:t[0]||(t[0]=r=>(e("update-task",!0),e("set-edit-mode",!1)))}," Save "),p("button",{class:"bg-rose-700 hover:bg-rose-500 menu-button min-w-fit px-4","aria-roledescription":"Discard Changes",title:"Discard Changes",onClick:t[1]||(t[1]=r=>e("set-edit-mode",!1))}," Discard ")]))}}),z="data:image/svg+xml,%3csvg%20width='14'%20height='14'%20viewBox='0%200%2014%2014'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.8344%203.5C8.08161%203.70959%208.32699%203.91826%208.55571%204.14829C8.5997%204.19236%208.64369%204.23644%208.68902%204.28186C8.73472%204.32798%208.78041%204.3741%208.82749%204.42162C8.89972%204.49412%208.89972%204.49412%208.97341%204.56809C9.12563%204.72096%209.27761%204.87406%209.42959%205.02717C9.5334%205.1315%209.63722%205.23582%209.74106%205.34012C9.99422%205.59447%2010.2472%205.84903%2010.5%206.1037C10.2013%206.45867%209.89097%206.79952%209.57203%207.13631C9.49468%207.21816%209.49468%207.21816%209.41577%207.30166C8.9368%207.80715%208.4529%208.30782%207.96718%208.80679C7.64273%209.1403%207.32017%209.47528%207.00184%209.81466C5.47573%2011.4397%204.1352%2012.6965%201.90369%2013.184C1.60785%2013.25%201.3321%2013.3534%201.0537%2013.473C0.8714%2013.5232%200.751066%2013.4969%200.570634%2013.4475C0.252143%2012.4821%201.09005%2010.7883%201.50533%209.94272C2.18818%208.67712%203.44032%207.66448%204.47874%206.69829C4.84996%206.35242%205.2142%205.99949%205.57823%205.64606C6.32319%204.92305%207.07578%204.20863%207.8344%203.5Z'%20fill='%23FEFEFE'/%3e%3cpath%20d='M11.303%200.515519C11.4232%200.596211%2011.4232%200.596211%2011.5385%200.710758C11.5821%200.753412%2011.6257%200.796066%2011.6707%200.840012C11.7167%200.886735%2011.7628%200.933458%2011.8103%200.981597C11.8583%201.02926%2011.9062%201.07693%2011.9556%201.12603C12.0568%201.22701%2012.1575%201.32838%2012.2579%201.43011C12.4119%201.58582%2012.5675%201.7398%2012.7233%201.89367C12.8214%201.99194%2012.9193%202.09031%2013.0171%202.18878C13.0639%202.23487%2013.1106%202.28096%2013.1587%202.32845C13.2013%202.37209%2013.244%202.41572%2013.2879%202.46068C13.3446%202.51775%2013.3446%202.51775%2013.4024%202.57598C13.5092%202.73521%2013.5148%202.81938%2013.4831%203.00776C13.3885%203.13984%2013.3885%203.13984%2013.2544%203.27191C13.2045%203.32178%2013.1546%203.37165%2013.1032%203.42304C13.0487%203.47594%2012.9942%203.52885%2012.9381%203.58336C12.8828%203.63824%2012.8275%203.69311%2012.7705%203.74965C12.6236%203.89516%2012.476%204.03996%2012.3281%204.18446C12.1772%204.33217%2012.0273%204.48077%2011.8772%204.6293C11.5828%204.92036%2011.2875%205.21051%2010.9915%205.5C10.6658%205.2277%2010.3623%204.94117%2010.0633%204.63988C9.99579%204.57222%209.99579%204.57222%209.92691%204.50319C9.78463%204.36053%209.64257%204.21764%209.50051%204.07475C9.40348%203.97738%209.30644%203.88003%209.20939%203.78269C8.97276%203.54531%208.73631%203.30776%208.5%203.07007C8.9049%202.58712%209.34604%202.14311%209.78965%201.69594C9.88802%201.5965%209.98605%201.49673%2010.0838%201.39664C10.2254%201.25153%2010.3681%201.10746%2010.511%200.963587C10.5545%200.918618%2010.5981%200.873648%2010.643%200.827316C10.6841%200.786312%2010.7253%200.745308%2010.7677%200.703061C10.8035%200.666743%2010.8393%200.630425%2010.8762%200.593007C11.0312%200.488856%2011.1196%200.487478%2011.303%200.515519Z'%20fill='%23FDFEFE'/%3e%3c/svg%3e",H="data:image/svg+xml,%3csvg%20width='16'%20height='4'%20viewBox='0%200%2016%204'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='16'%20height='4'%20fill='white'/%3e%3c/svg%3e",O="data:image/svg+xml,%3csvg%20width='18'%20height='4'%20viewBox='0%200%2018%204'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M2.39063%203.53409C1.97017%203.53409%201.60938%203.38352%201.30824%203.08239C1.00711%202.78125%200.856537%202.42045%200.856537%202C0.856537%201.57955%201.00711%201.21875%201.30824%200.917614C1.60938%200.616477%201.97017%200.465909%202.39063%200.465909C2.81108%200.465909%203.17188%200.616477%203.47301%200.917614C3.77415%201.21875%203.92472%201.57955%203.92472%202C3.92472%202.27841%203.8537%202.53409%203.71165%202.76705C3.57529%203%203.39063%203.1875%203.15767%203.32955C2.9304%203.46591%202.67472%203.53409%202.39063%203.53409Z'%20fill='white'/%3e%3cpath%20d='M9%203.53409C8.57955%203.53409%208.21875%203.38352%207.91762%203.08239C7.61648%202.78125%207.46591%202.42045%207.46591%202C7.46591%201.57955%207.61648%201.21875%207.91762%200.917614C8.21875%200.616477%208.57955%200.465909%209%200.465909C9.42046%200.465909%209.78125%200.616477%2010.0824%200.917614C10.3835%201.21875%2010.5341%201.57955%2010.5341%202C10.5341%202.27841%2010.4631%202.53409%2010.321%202.76705C10.1847%203%2010%203.1875%209.76705%203.32955C9.53977%203.46591%209.28409%203.53409%209%203.53409Z'%20fill='white'/%3e%3cpath%20d='M15.6094%203.53409C15.1889%203.53409%2014.8281%203.38352%2014.527%203.08239C14.2259%202.78125%2014.0753%202.42045%2014.0753%202C14.0753%201.57955%2014.2259%201.21875%2014.527%200.917614C14.8281%200.616477%2015.1889%200.465909%2015.6094%200.465909C16.0298%200.465909%2016.3906%200.616477%2016.6918%200.917614C16.9929%201.21875%2017.1435%201.57955%2017.1435%202C17.1435%202.27841%2017.0724%202.53409%2016.9304%202.76705C16.794%203%2016.6094%203.1875%2016.3764%203.32955C16.1491%203.46591%2015.8935%203.53409%2015.6094%203.53409Z'%20fill='white'/%3e%3c/svg%3e",P={class:"flex gap-3"},Q=p("img",{src:z,alt:"Edit task"},null,-1),W=[Q],X=p("img",{src:H,alt:"Remove task"},null,-1),Y=[X],q=p("img",{src:O,alt:"Task menu"},null,-1),G=[q],J=k({__name:"Menu",props:{isEditableMode:{type:Boolean}},emits:["set-edit-mode","setAsDeleted"],setup(C,{emit:o}){const e=C,n=o,t=f(!1),r=u=>{t.value&&e.isEditableMode&&n("set-edit-mode",!1),t.value=!u};return(u,s)=>(l(),c("div",P,[a(t)?(l(),c("button",{key:0,class:x(["bg-secondary hover:bg-primary menu-button",{"bg-terciary":u.isEditableMode}]),"aria-roledescription":"Button to edit task content",title:"Edit task content",onClick:s[0]||(s[0]=d=>n("set-edit-mode",!0))},W,2)):_("",!0),a(t)?(l(),c("button",{key:1,class:"bg-rose-700 hover:bg-rose-500 menu-button","aria-roledescription":"Button to remove this task",title:"Remove this task",onClick:s[1]||(s[1]=d=>n("setAsDeleted"))},Y)):_("",!0),p("button",{class:"bg-dark hover:opacity-100 opacity-50 menu-button","aria-roledescription":"Toggle task actions menu",title:"Toggle task actions menu",onClick:s[2]||(s[2]=d=>r(a(t)))},G)]))}}),K=["id"],t0={class:"flex text-dark justify-between p-2 pb-3 w-full text-sm font-sans border-b-2 rounded-md gap-4 items-top content-center"},e0={key:1,class:"flex basis-[100%] gap-2 flex-wrap content-start items-start justify-start"},s0=k({__name:"TheTask",props:{content:{},isCompleted:{},taskId:{},isDeleted:{}},setup(C){const o=C,e=f(o.content),n=f(o.isCompleted),t=f(!1),r=m=>t.value=m??!t.value,u=M(),s=m=>{u.updateTask(o.taskId,{isCompleted:m.isCompleted??o.isCompleted,content:m.content||o.content,isDeleted:m.isDeleted??o.isDeleted})},d=()=>s({content:e.value}),g=()=>u.deleteTask(o.taskId);return(m,i)=>{const E=Z,$=j,D=J;return l(),c("article",{id:m.taskId,class:"w-full px-3 py-2 flex"},[p("form",{class:"w-full",onSubmit:i[3]||(i[3]=S(()=>{},["prevent"]))},[p("div",t0,[b(p("input",{class:"size-5",type:"checkbox",name:"isActive",id:"","onUpdate:modelValue":i[0]||(i[0]=h=>w(n)?n.value=h:null),"aria-label":"Toggle checking a task as completed",onChange:i[1]||(i[1]=h=>s({isCompleted:a(n)}))},null,544),[[V,a(n)]]),a(t)?_("",!0):(l(),c("p",{key:0,class:x(["grow",{"line-through opacity-60":a(n)}])},L(m.content),3)),a(t)?(l(),c("div",e0,[v(E,{"task-content":a(e),class:"basis-[100%]",modelValue:a(e),"onUpdate:modelValue":i[2]||(i[2]=h=>w(e)?e.value=h:null)},null,8,["task-content","modelValue"]),v($,{"is-editable-mode":a(t),onSetEditMode:r,onUpdateTask:d,class:"basis-[100%]"},null,8,["is-editable-mode"])])):_("",!0),v(D,{"is-editable-mode":a(t),onSetEditMode:r,onSetAsDeleted:g},null,8,["is-editable-mode"])])],32)],8,K)}}}),o0={},n0={version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 126.63519023230606 818.2169774396082",width:"126.63519023230606",height:"818.2169774396082"},a0=A('<rect x="0" y="0" width="126.63519023230606" height="818.2169774396082" fill="#ffffff"></rect><g stroke-linecap="round"><g transform="translate(9.990888788551047 9.0382610179484) rotate(0 52.87088420461919 399.28571428571445)"><path d="M0.75 0.96 C18.49 66.67, 106.77 261.47, 106.64 394.51 C106.52 527.55, 17.65 731.92, 0.01 799.18" stroke="#1971c2" stroke-width="4.5" fill="none" stroke-dasharray="8 12"></path></g><g transform="translate(9.990888788551047 9.0382610179484) rotate(0 52.87088420461919 399.28571428571445)"><path d="M-0.64 774.19 C1.22 783.63, -0.38 790.09, 0.01 799.18" stroke="#1971c2" stroke-width="4.5" fill="none"></path></g><g transform="translate(9.990888788551047 9.0382610179484) rotate(0 52.87088420461919 399.28571428571445)"><path d="M15.58 779.62 C12.27 787.44, 5.51 792.17, 0.01 799.18" stroke="#1971c2" stroke-width="4.5" fill="none"></path></g></g><mask></mask>',3),i0=[a0];function l0(C,o){return l(),c("svg",n0,i0)}const r0=T(o0,[["render",l0]]),d0={key:0,class:"flex flex-wrap justify-center"},c0=p("p",{class:"w-full"}," There are currently no tasks. You can add a new task at the bottom of this page. ",-1),u0=k({__name:"TaskList",setup(C){const e=M().getTaskList(),n=F(()=>e.filter(s=>!s.isDeleted)),t=f(null),r=f(""),u=({element:s=null,cssClassName:d,timing:g=3e3})=>{!s||!d||(s.classList.add(d),setTimeout(()=>{s.classList.remove(d)},g))};return I(()=>{var d,g;if(!t.value)return;const s=(d=t.value.lastElementChild)==null?void 0:d.getAttribute("id");r.value!==s&&(t.value.scrollTop=t.value.scrollHeight,r.value=s||"",u({element:(g=t.value)==null?void 0:g.lastElementChild,cssClassName:"newItem"}))}),(s,d)=>{const g=s0,m=r0;return l(),c("div",{class:"max-w-[750px] w-full p-4 gap-6 overflow-y-auto",ref_key:"taskListRef",ref:t,role:"list"},[(l(!0),c(R,null,U(a(n),i=>(l(),y(g,{role:"listitem",key:i.id,content:i.content,"task-id":i.id,"is-completed":i.isCompleted,"is-deleted":i.isDeleted},null,8,["content","task-id","is-completed","is-deleted"]))),128)),a(n).length<=0?(l(),c("div",d0,[c0,v(m,{class:"max-h-[70vh] mask"})])):_("",!0)],512)}}}),m0={};function p0(C,o){const e=u0;return l(),y(e)}const f0=T(m0,[["render",p0]]);export{f0 as default};
